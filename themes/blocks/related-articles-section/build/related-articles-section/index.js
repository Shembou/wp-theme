(()=>{"use strict";var e,t={450:()=>{const e=window.wp.blocks,t=window.wp.i18n,r=window.wp.blockEditor,a=window.wp.components,n=window.wp.data;function s(e){try{const t=(new DOMParser).parseFromString(e,"text/html"),r=t.querySelector(".reading-time")?.textContent||"",a=parseInt(r)||0,n=t.querySelector(".featured-image")?.getAttribute("src")||"";return{reading_time:a,featured_image:n,tags:Array.from(t.querySelectorAll(".selected-categories .tag")).map((e=>e.textContent)),title:t.querySelector(".post-title")?.textContent||""}}catch(e){return console.error("Error parsing blog HTML:",e),{reading_time:0,featured_image:"",tags:[],title:"",error:e.message}}}const i=window.ReactJSXRuntime;function o({url:e,isSecondary:t,type:r,className:a,children:n}){return(0,i.jsx)("a",{className:`custom-button ${null!=a?a:""}${t?"secondary":""}`,href:e,children:n})}const l=e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",alt:"Bookmark Icon",children:(0,i.jsx)("path",{fill:"#F9FDFF",d:"M13 1.5H4.5a2 2 0 0 0-2 2V14a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 0-1H3.5a1 1 0 0 1 1-1H13a.5.5 0 0 0 .5-.5V2a.5.5 0 0 0-.5-.5m-5.5 1h3V7l-1.2-.9a.5.5 0 0 0-.6 0L7.5 7zm5 9h-8c-.351 0-.696.092-1 .268V3.5a1 1 0 0 1 1-1h2V8a.5.5 0 0 0 .8.4L9 7.125 10.7 8.4a.5.5 0 0 0 .8-.4V2.5h1z"})}),c=e=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"17",fill:"none",viewBox:"0 0 16 17",alt:"Bookmark Icon",children:(0,i.jsx)("path",{fill:"#324C4D",d:"M13 2.344H4.5a2 2 0 0 0-2 2v10.5a.5.5 0 0 0 .5.5h9a.5.5 0 1 0 0-1H3.5a1 1 0 0 1 1-1H13a.5.5 0 0 0 .5-.5v-10a.5.5 0 0 0-.5-.5m-5.5 1h3v4.5l-1.2-.9a.5.5 0 0 0-.6 0l-1.2.9zm5 9h-8a2 2 0 0 0-1 .268V4.344a1 1 0 0 1 1-1h2v5.5a.5.5 0 0 0 .8.4L9 7.97l1.7 1.275a.5.5 0 0 0 .8-.4v-5.5h1z"})}),d=JSON.parse('{"UU":"create-block/related-articles-section"}');(0,e.registerBlockType)(d.UU,{edit:function({attributes:e,setAttributes:d}){const{heading:h=""}=e,g=(0,n.useSelect)((e=>e("core").getEntityRecords("postType","post",{per_page:-1}))),p=window.location.href.substring(window.location.href.lastIndexOf("/")+1);console.log("Current Location:",p);const w=g?.filter((e=>e.slug!=p)).sort(((e,t)=>new Date(t.date)-new Date(e.date))).slice(0,2).map((({link:e,content:t})=>({link:e,data:s(t.rendered)})));return console.log("Filtered Post Data:",w),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.InspectorControls,{children:(0,i.jsx)(a.PanelBody,{children:(0,i.jsx)(a.PanelRow,{children:(0,i.jsx)(a.TextControl,{label:(0,t.__)("Heading","latest-blog-entries-section"),value:h||"",onChange:e=>d({heading:e})})})})}),(0,i.jsxs)("section",{...(0,r.useBlockProps)(),id:"related-articles-section",children:[(0,i.jsxs)("header",{children:[(0,i.jsx)("div",{className:"wrapper",children:(0,i.jsx)("h2",{children:h})}),(0,i.jsxs)(o,{url:"/blog",children:["PrzejdÅº do bloga ",(0,i.jsx)(l,{})]})]}),w&&w.map((({link:e,data:t},r)=>(0,i.jsxs)("div",{className:"blog-post",children:[(0,i.jsxs)("div",{className:"image-wrapper",children:[(0,i.jsxs)("p",{className:"reading-time",children:[(0,i.jsx)(c,{})," ",t.reading_time," min. czytania"]}),(0,i.jsx)("img",{src:t.featured_image})]}),(0,i.jsx)("div",{className:"blog-contents-wrapper",children:(0,i.jsxs)("div",{className:"wrapper",children:[(0,i.jsx)("h2",{children:t.title}),(0,i.jsxs)(o,{url:e,children:["Czytaj dalej ",(0,i.jsx)(l,{})]})]})})]},r)))]})]})}})}},r={};function a(e){var n=r[e];if(void 0!==n)return n.exports;var s=r[e]={exports:{}};return t[e](s,s.exports,a),s.exports}a.m=t,e=[],a.O=(t,r,n,s)=>{if(!r){var i=1/0;for(d=0;d<e.length;d++){for(var[r,n,s]=e[d],o=!0,l=0;l<r.length;l++)(!1&s||i>=s)&&Object.keys(a.O).every((e=>a.O[e](r[l])))?r.splice(l--,1):(o=!1,s<i&&(i=s));if(o){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[r,n,s]},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={547:0,779:0};a.O.j=t=>0===e[t];var t=(t,r)=>{var n,s,[i,o,l]=r,c=0;if(i.some((t=>0!==e[t]))){for(n in o)a.o(o,n)&&(a.m[n]=o[n]);if(l)var d=l(a)}for(t&&t(r);c<i.length;c++)s=i[c],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(d)},r=globalThis.webpackChunkrelated_articles_section=globalThis.webpackChunkrelated_articles_section||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var n=a.O(void 0,[779],(()=>a(450)));n=a.O(n)})();